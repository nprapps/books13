{% extends '_base.html' %}

{% block header_content %}
<header id="top">
    <div class="header-wrapper">
        <a href="#/_"><h1>{{ COPY.content.header_title }}</h1></a>
        <h2>by {{ COPY.attribution.byline }}</h2>
        <div class="chatter">{{ COPY.content.chatter }}</div>

        <button id="mobile-filters" class="visible-xs btn btn-primary btn-block">Filter by genre</button>
    </div>

    <div class="adwrapper">
        <div id="ad-desktop" class="sponsor300">
            <script type="text/javascript">
            <!--
            if (DFP.shouldRenderForDevice('desktop')) {
                googletag.cmd.push(function() { googletag.display('ad-desktop'); });
            }
            // -->
            </script>
        </div>
        <p class="left hidden-xs">NPR thanks our sponsors</p>
        <p class="right hidden-xs"><a href="http://www.npr.org/about/place/corpsupport/">Become an NPR sponsor</a></p>
    </div>
</header>
{% endblock %}

{% block content %}
    <div class="book-container">
        <div class="tags-wrapper">
            <h4 class="hidden-xs">What would you like to&nbsp;read?</h4>
            <!-- All Tags List -->
            <ul class="filter tags option-set list-unstyled hidden-xs" data-filter-group="category">
                    <li>
                        <center><button class="btn btn-large btn-info clear-tags" data-filter-value="*">Show All</button></center>
                    </li>

                    <li class="visible-xs close-modal"><span class="close" aria-hidden="true">&times;</span></li>
                    <li class="visible-xs mobile-label">Filter by:</li>
                {% for row in COPY.tags %}
                   <li> 
                       <button
                       class="btn btn-large btn-info tag"
                       data-filter-value=".tag-{{ row.key }}" data-tag-slug="{{ row.key }}">{{ row.value }}</button>
                   </li>
                {% endfor %}

                    <li class="visible-xs close-modal">
                        <button class="btn btn-primary btn-block">Done</button>
                    </li>
            </ul>
        </div>
        <!-- Book Cards Grid -->
    
        <div class=" books-grid-wrapper">
            <h3 class="current-tag">Showing books tagged <span></span></h3>
            <div id="books-grid" class="filter-inactive">
                {% for book in books %}
                <div id="{{ book.slug }}" class="book card isotope-item {% for tag in book.tags %}tag-{{ tag }} {% endfor %} isotope-hidden no-touch" data-sort="{{ loop.index }}">
                    <a href="#/book/{{  book.slug }}">
                    <div class="book-outer-wrapper">
                        <!-- Book Image -->
                        {% if book.teaser %}
                        <div class="review">{{ book.teaser|safe }}</div>
                        {% endif %}
                        <img src="img/cover-loading.gif" data-src="img/cover/{{ book.slug }}-thumb.jpg" alt="{{ book.title }}"/>
                    </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Print-friendly list -->

    <div class="print-friendly">
        <h1>{{ COPY.content.header_title }}</h1>
        <h3 class="current-tag">Books tagged <span></span></h3>
        <ul>
            {% for book in books %}
            <li class="print-book visible {% for tag in book.tags %}tag-{{ tag }} {% endfor %}" data-sort="{{ loop.index }}">
                <span class="title">{{ book.title }}</span> by <span class="author">{{ book.author }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>

    <button class="btn" id="back-to-top">
        <p id="back-to-top-text">Back to top&nbsp;&nbsp;<i class="icon-arrow-up"></i></p>
        <p id="back-to-top-no-text"><i class="icon-arrow-up"></i></p>
    </button>

{% endblock %}

{% block wide_content %}
{% endblock %}

{% block extra_foot %}
<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-keyboard="true">
  <div class="modal-dialog">
    <div class="modal-content">
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
    <script type="text/javascript">
        window.BOOKS = {{ books_js|safe }}
    </script>
{% endblock %}
